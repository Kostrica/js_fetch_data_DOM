{"version":3,"sources":["scripts/main.js"],"names":["listURL","request","url","id","fetch","then","response","ok","Error","status","statusText","json","getPhones","addPhonesList","data","div","document","createElement","className","ul","append","map","phone","insertAdjacentHTML","name","body","style","cssText","phonesId","phonesWithDetails","item","result","phoneIdWithDetails","push","catch","err","alert"],"mappings":";AAAA,aAEA,IAAMA,EAAN,qEAGMC,EAAU,SAACC,GAAKC,IAAAA,EAAK,UAAA,OAAA,QAAA,IAAA,UAAA,GAAA,UAAA,GAAA,QAClBC,OAAAA,MAASF,GAAAA,OAAAA,GAAMC,OAAAA,IACnBE,KAAK,SAAAC,GACA,IAACA,EAASC,GACN,MAAA,IAAIC,MAASF,GAAAA,OAAAA,EAASG,OAAYH,OAAAA,OAAAA,EAASI,aAG5CJ,OAAAA,EAASK,UAIhBC,EAAY,WAAMX,OAAAA,EAAQD,IAMhC,SAASa,EAAcC,GACfC,IAAAA,EAAMC,SAASC,cAAc,OAEnCF,EAAIG,UAAY,SAEVC,IAAAA,EAAKH,SAASC,cAAc,MAElCF,EAAIK,OAAOD,GAEXL,EAAKO,IAAI,SAAAC,GAASH,OAAAA,EAAGI,mBAAmB,YAC7BD,gBAAAA,OAAAA,EAAMnB,GACXmB,aAAAA,OAAAA,EAAME,KAFE,sBAMdR,SAASS,KAAKL,OAAOL,GAErBA,EAAIW,MAAMC,QAAV,2EAMMC,IAAAA,EAAWd,EAAKO,IAAI,SAAAC,GAASA,OAAAA,EAAMnB,KACnC0B,EAAoB,GAeTD,EAZTP,IAAI,SAAAS,GACR7B,EAAQD,EAAS,IAAM8B,EAAO,SAC3BzB,KAAK,SAAA0B,GACEC,IAAAA,EAAqB,GAE3BA,EAAmBD,EAAO5B,IAAM4B,EAChCF,EAAkBI,KAAKD,KAExBE,MAAM,SAAAC,GAAOC,OAAAA,MAAMD,OAvC5BvB,IACGP,KAAK,SAAA0B,GAAUlB,OAAAA,EAAckB,KAC7BG,MAAM,SAAAC,GAAOC,OAAAA,MAAMD","file":"main.ba277bff.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\r\n\r\nconst listURL = `https://mate-academy.github.io/\r\nphone-catalogue-static/api/phones`;\r\n\r\nconst request = (url, id = '.json') => {\r\n  return fetch(`${url}${id}`)\r\n    .then(response => {\r\n      if (!response.ok) {\r\n        throw new Error(`${response.status} - ${response.statusText}`);\r\n      }\r\n\r\n      return response.json();\r\n    });\r\n};\r\n\r\nconst getPhones = () => request(listURL);\r\n\r\ngetPhones()\r\n  .then(result => addPhonesList(result))\r\n  .catch(err => alert(err));\r\n\r\nfunction addPhonesList(data) {\r\n  const div = document.createElement('div');\r\n\r\n  div.className = 'phones';\r\n\r\n  const ul = document.createElement('ul');\r\n\r\n  div.append(ul);\r\n\r\n  data.map(phone => ul.insertAdjacentHTML('beforeend', `\r\n    <li id=${phone.id}>\r\n      ${phone.name}\r\n    </li>\r\n  `));\r\n\r\n  document.body.append(div);\r\n\r\n  div.style.cssText = `\r\n    background-color: black;\r\n    color: white;\r\n    width: 400px;\r\n  `;\r\n\r\n  const phonesId = data.map(phone => phone.id);\r\n  const phonesWithDetails = [];\r\n\r\n  function getPhonesDetails(array) {\r\n    array.map(item => {\r\n      request(listURL, '/' + item + '.json')\r\n        .then(result => {\r\n          const phoneIdWithDetails = {};\r\n\r\n          phoneIdWithDetails[result.id] = result;\r\n          phonesWithDetails.push(phoneIdWithDetails);\r\n        })\r\n        .catch(err => alert(err));\r\n    });\r\n  };\r\n\r\n  getPhonesDetails(phonesId);\r\n};\r\n"]}